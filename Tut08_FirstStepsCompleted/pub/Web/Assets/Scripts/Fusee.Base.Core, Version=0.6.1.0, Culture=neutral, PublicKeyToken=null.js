/* Generated by JSIL v0.8.2 build 31050. See http://jsil.org/ for more information. */ 
'use strict';
var $asm01 = JSIL.DeclareAssembly("Fusee.Base.Core, Version=0.6.1.0, Culture=neutral, PublicKeyToken=null");

JSIL.DeclareNamespace("Fusee");
JSIL.DeclareNamespace("Fusee.Base");
JSIL.DeclareNamespace("Fusee.Base.Core");
/* class Fusee.Base.Core.AssetStorage */ 

(function AssetStorage$Members () {
  var $, $thisType;
  var $T00 = function () {
    return ($T00 = JSIL.Memoize($asm0E.System.Collections.Generic.List$b1.Of($asm00.Fusee.Base.Common.IAssetProvider))) ();
  };
  var $T01 = function () {
    return ($T01 = JSIL.Memoize($asm0E.System.Type)) ();
  };
  var $T02 = function () {
    return ($T02 = JSIL.Memoize($asm0E.System.Boolean)) ();
  };
  var $T03 = function () {
    return ($T03 = JSIL.Memoize($asm10.ProtoBuf.ProtoContractAttribute)) ();
  };
  var $T04 = function () {
    return ($T04 = JSIL.Memoize($asm14.System.Linq.Enumerable)) ();
  };
  var $T05 = function () {
    return ($T05 = JSIL.Memoize($asm0E.System.Collections.IEnumerable)) ();
  };
  var $T06 = function () {
    return ($T06 = JSIL.Memoize($asm0E.System.Reflection.MemberInfo)) ();
  };
  var $T07 = function () {
    return ($T07 = JSIL.Memoize($asm0E.System.InvalidOperationException)) ();
  };
  var $T08 = function () {
    return ($T08 = JSIL.Memoize($asm0E.System.String)) ();
  };
  var $T09 = function () {
    return ($T09 = JSIL.Memoize($asm0E.System.Object)) ();
  };
  var $T0A = function () {
    return ($T0A = JSIL.Memoize($asm0B.Fusee.Serialization.Serializer)) ();
  };
  var $T0B = function () {
    return ($T0B = JSIL.Memoize($asm0E.System.IO.MemoryStream)) ();
  };
  var $T0C = function () {
    return ($T0C = JSIL.Memoize($asm10.ProtoBuf.Meta.TypeModel)) ();
  };
  var $T0D = function () {
    return ($T0D = JSIL.Memoize($asm0E.System.IO.Stream)) ();
  };
  var $T0E = function () {
    return ($T0E = JSIL.Memoize($asm0E.System.Int64)) ();
  };
  var $T0F = function () {
    return ($T0F = JSIL.Memoize($asm0E.System.Int32)) ();
  };
  var $T10 = function () {
    return ($T10 = JSIL.Memoize($asm00.Fusee.Base.Common.IAssetProvider)) ();
  };
  var $S00 = function () {
    return ($S00 = JSIL.Memoize(new JSIL.ConstructorSignature($asm0E.System.Collections.Generic.List$b1.Of($asm00.Fusee.Base.Common.IAssetProvider), null))) ();
  };
  var $S01 = function () {
    return ($S01 = JSIL.Memoize(new JSIL.ConstructorSignature($asm0E.System.InvalidOperationException, [$asm0E.System.String]))) ();
  };
  var $S02 = function () {
    return ($S02 = JSIL.Memoize(new JSIL.ConstructorSignature($asm0E.System.IO.MemoryStream, null))) ();
  };
  var $S03 = function () {
    return ($S03 = JSIL.Memoize(new JSIL.MethodSignature(null, [$asm0E.System.IO.Stream, $asm0E.System.Object]))) ();
  };
  var $S04 = function () {
    return ($S04 = JSIL.Memoize(new JSIL.MethodSignature($asm0E.System.Object, [
        $asm0E.System.IO.Stream, $asm0E.System.Object, 
        $asm0E.System.Type
      ]))) ();
  };
  var $S05 = function () {
    return ($S05 = JSIL.Memoize(new JSIL.MethodSignature(null, [$asm00.TypeRef("Fusee.Base.Common.IAssetProvider")]))) ();
  };
  var $IM00 = function () {
    return ($IM00 = JSIL.Memoize($asm00.Fusee.Base.Common.IAssetProvider.CanGet)) ();
  };
  var $IM01 = function () {
    return ($IM01 = JSIL.Memoize($asm00.Fusee.Base.Common.IAssetProvider.GetAsset)) ();
  };


  function AssetStorage__ctor () {
    this._providers = $S00().Construct();
  }; 

  function AssetStorage_DeepCopy$b1 (T, source) {
    var flag = $T04().OfType$b1($T03())($T05().$Cast((JSIL.GetType(source)).GetCustomAttributes(true))) === null;
    if (flag) {
      throw $S01().Construct($T08().Format("DeepCopy: ProtoBuf.ProtoContractAttribute is not defined on '{0}'!", JSIL.Array.New($T09(), [(JSIL.GetType(source)).get_Name()])));
    }
    var ser = new ($T0A())();
    var stream = $S02().Construct();
    $S03().CallVirtual("Serialize", null, ser, stream, JSIL.CloneParameter(T, source));
    stream.set_Position($T0E().Create(0, 0, 0));
    return T.$As($S04().CallVirtual("Deserialize", null, ser, stream, null, T));
  }; 

  function AssetStorage_Get$b1 (T, id) {
    return $thisType.get_Instance().GetAsset$b1(T)(id);
  }; 

  function AssetStorage_get_Instance () {
    var arg_14_0 = null;
    if ((arg_14_0 = $thisType._instance) === null) {
      arg_14_0 = $thisType._instance = new $thisType();
    }
    return arg_14_0;
  }; 

  function AssetStorage_GetAsset$b1 (T, id) {
    var $temp00;

    for (var a$0 = this._providers._items, i$0 = 0, l$0 = (this._providers._size | 0); i$0 < l$0; ($temp00 = i$0, 
        i$0 = ((i$0 + 1) | 0), 
        $temp00)) {
      var assetProvider = a$0[i$0];
      var flag = $IM00().Call(assetProvider, null, id, T);
      if (flag) {
        var result = JSIL.CloneParameter(T, T.$Cast($IM01().Call(assetProvider, null, id, T)));
        return result;
      }
    }
    result = (
      T.IsValueType
         ? JSIL.CreateInstanceOfType(T)
         : null)
    ;
    return result;
  }; 

  function AssetStorage_RegisterAssetProvider (assetProvider) {
    var flag = (this._providers).Contains(assetProvider);
    if (flag) {
      throw $S01().Construct(JSIL.ConcatString("Asset Provider already registered ", assetProvider));
    }
    $S05().CallVirtual("Add", null, this._providers, assetProvider);
  }; 

  function AssetStorage_RegisterProvider (assetProvider) {
    $thisType.get_Instance().RegisterAssetProvider(assetProvider);
  }; 

  JSIL.MakeType({
      BaseType: $asm0E.TypeRef("System.Object"), 
      Name: "Fusee.Base.Core.AssetStorage", 
      IsPublic: true, 
      IsReferenceType: true, 
      MaximumConstructorArguments: 0, 
    }, function ($ib) {
    $ = $ib;

    $.Method({Static:false, Public:false}, ".ctor", 
      JSIL.MethodSignature.Void, 
      AssetStorage__ctor
    );

    $.Method({Static:true , Public:true }, "DeepCopy", 
      new JSIL.MethodSignature("!!0", ["!!0"], ["T"]), 
      AssetStorage_DeepCopy$b1
    );

    $.Method({Static:true , Public:true }, "Get", 
      new JSIL.MethodSignature("!!0", [$.String], ["T"]), 
      AssetStorage_Get$b1
    );

    $.Method({Static:true , Public:true }, "get_Instance", 
      JSIL.MethodSignature.Return($.Type), 
      AssetStorage_get_Instance
    );

    $.Method({Static:false, Public:true }, "GetAsset", 
      new JSIL.MethodSignature("!!0", [$.String], ["T"]), 
      AssetStorage_GetAsset$b1
    );

    $.Method({Static:false, Public:true }, "RegisterAssetProvider", 
      JSIL.MethodSignature.Action($asm00.TypeRef("Fusee.Base.Common.IAssetProvider")), 
      AssetStorage_RegisterAssetProvider
    );

    $.Method({Static:true , Public:true }, "RegisterProvider", 
      JSIL.MethodSignature.Action($asm00.TypeRef("Fusee.Base.Common.IAssetProvider")), 
      AssetStorage_RegisterProvider
    );

    $.Field({Static:false, Public:false, ReadOnly:true }, "_providers", $asm0E.TypeRef("System.Collections.Generic.List`1", [$asm00.TypeRef("Fusee.Base.Common.IAssetProvider")]));

    $.Field({Static:true , Public:false}, "_instance", $.Type);

    $.Property({Static:true , Public:true }, "Instance", $.Type);


    return function (newThisType) { $thisType = newThisType; }; 
  });

})();

/* class Fusee.Base.Core.Diagnostics */ 

(function Diagnostics$Members () {
  var $, $thisType;


  JSIL.MakeStaticClass("Fusee.Base.Core.Diagnostics", true, [], function ($ib) {
    $ = $ib;

    $.ExternalMethod({Static:true , Public:true }, "Log", 
      JSIL.MethodSignature.Action($.Object)
    );

    $.ExternalProperty({Static:true , Public:true }, "Timer", $.Double);


    return function (newThisType) { $thisType = newThisType; }; 
  });

})();

/* class Fusee.Base.Core.Font */ 

(function Font$Members () {
  var $, $thisType;
  var $T00 = function () {
    return ($T00 = JSIL.Memoize($asm0E.System.Collections.Generic.Dictionary$b2.Of($asm0E.System.UInt32, $asm00.Fusee.Base.Common.GlyphInfo))) ();
  };
  var $T01 = function () {
    return ($T01 = JSIL.Memoize($asm0E.System.Collections.Generic.Dictionary$b2.Of($asm0E.System.UInt32, $asm09.Fusee.Math.Core.Curve))) ();
  };
  var $T02 = function () {
    return ($T02 = JSIL.Memoize($asm0E.System.Collections.Generic.Dictionary$b2.Of($asm0E.System.UInt32, $asm0E.System.Single))) ();
  };
  var $T03 = function () {
    return ($T03 = JSIL.Memoize($asm00.Fusee.Base.Common.IFontImp)) ();
  };
  var $T04 = function () {
    return ($T04 = JSIL.Memoize($asm0E.System.UInt32)) ();
  };
  var $T05 = function () {
    return ($T05 = JSIL.Memoize($asm09.Fusee.Math.Core.Curve)) ();
  };
  var $T06 = function () {
    return ($T06 = JSIL.Memoize($asm0E.System.Boolean)) ();
  };
  var $T07 = function () {
    return ($T07 = JSIL.Memoize($asm00.Fusee.Base.Common.GlyphInfo)) ();
  };
  var $T08 = function () {
    return ($T08 = JSIL.Memoize($asm0E.System.Single)) ();
  };
  var $T09 = function () {
    return ($T09 = JSIL.Memoize($asm0E.System.Int32)) ();
  };
  var $S00 = function () {
    return ($S00 = JSIL.Memoize(new JSIL.ConstructorSignature($asm0E.System.Collections.Generic.Dictionary$b2.Of($asm0E.System.UInt32, $asm00.Fusee.Base.Common.GlyphInfo), null))) ();
  };
  var $S01 = function () {
    return ($S01 = JSIL.Memoize(new JSIL.ConstructorSignature($asm0E.System.Collections.Generic.Dictionary$b2.Of($asm0E.System.UInt32, $asm09.Fusee.Math.Core.Curve), null))) ();
  };
  var $S02 = function () {
    return ($S02 = JSIL.Memoize(new JSIL.ConstructorSignature($asm0E.System.Collections.Generic.Dictionary$b2.Of($asm0E.System.UInt32, $asm0E.System.Single), null))) ();
  };
  var $IM00 = function () {
    return ($IM00 = JSIL.Memoize($asm00.Fusee.Base.Common.IFontImp.get_PixelHeight)) ();
  };
  var $IM01 = function () {
    return ($IM01 = JSIL.Memoize($asm00.Fusee.Base.Common.IFontImp.get_UseKerning)) ();
  };
  var $IM02 = function () {
    return ($IM02 = JSIL.Memoize($asm00.Fusee.Base.Common.IFontImp.GetGlyphCurve)) ();
  };
  var $IM03 = function () {
    return ($IM03 = JSIL.Memoize($asm00.Fusee.Base.Common.IFontImp.GetGlyphInfo)) ();
  };
  var $IM04 = function () {
    return ($IM04 = JSIL.Memoize($asm00.Fusee.Base.Common.IFontImp.GetKerning)) ();
  };
  var $IM05 = function () {
    return ($IM05 = JSIL.Memoize($asm00.Fusee.Base.Common.IFontImp.GetUnscaledAdvance)) ();
  };
  var $IM06 = function () {
    return ($IM06 = JSIL.Memoize($asm00.Fusee.Base.Common.IFontImp.GetUnscaledKerning)) ();
  };
  var $IM07 = function () {
    return ($IM07 = JSIL.Memoize($asm00.Fusee.Base.Common.IFontImp.RenderGlyph)) ();
  };
  var $IM08 = function () {
    return ($IM08 = JSIL.Memoize($asm00.Fusee.Base.Common.IFontImp.set_PixelHeight)) ();
  };
  var $IM09 = function () {
    return ($IM09 = JSIL.Memoize($asm00.Fusee.Base.Common.IFontImp.set_UseKerning)) ();
  };


  function Font__ctor () {
    this._glyphInfoCache = $S00().Construct();
    this._glyphCurveChache = $S01().Construct();
    this._glyphAdvanceCache = $S02().Construct();
  }; 

  function Font_get_PixelHeight () {
    return $IM00().Call(this._fontImp, null);
  }; 

  function Font_get_UseKerning () {
    return $IM01().Call(this._fontImp, null);
  }; 

  function Font_GetGlyphCurve (c) {
    var curve = new JSIL.BoxedVariable(null);
    var flag = (this._glyphCurveChache).TryGetValue(c, /* ref */ curve);
    if (flag) {
      var result = curve.get();
    } else {
      curve.set($IM02().Call(this._fontImp, null, c));
      (this._glyphCurveChache).set_Item(c, curve.get());
      result = curve.get();
    }
    return result;
  }; 

  function Font_GetGlyphInfo (c) {
    var ret = new JSIL.BoxedVariable(new ($T07())());
    var flag = (this._glyphInfoCache).TryGetValue(c, /* ref */ ret);
    if (flag) {
      var result = ret.get().MemberwiseClone();
    } else {
      ret.set($IM03().Call(this._fontImp, null, c).MemberwiseClone());
      (this._glyphInfoCache).set_Item(c, ret.get().MemberwiseClone());
      result = ret.get().MemberwiseClone();
    }
    return result;
  }; 

  function Font_GetKerning (leftC, rightC) {
    return $IM04().Call(this._fontImp, null, leftC, rightC);
  }; 

  function Font_GetUnscaledAdvance (c) {
    var ret = new JSIL.BoxedVariable(0);
    var flag = (this._glyphAdvanceCache).TryGetValue(c, /* ref */ ret);
    if (flag) {
      var result = +ret.get();
    } else {
      ret.set($IM05().Call(this._fontImp, null, c));
      (this._glyphAdvanceCache).set_Item(c, ret.get());
      result = +ret.get();
    }
    return result;
  }; 

  function Font_GetUnscaledKerning (leftC, rightC) {
    return $IM06().Call(this._fontImp, null, leftC, rightC);
  }; 

  function Font_RenderGlyph (c, /* ref */ bitmapLeft, /* ref */ bitmapTop) {
    return $IM07().Call(this._fontImp, null, c, /* ref */ bitmapLeft, /* ref */ bitmapTop);
  }; 

  function Font_set_PixelHeight (value) {
    $IM08().Call(this._fontImp, null, value);
  }; 

  function Font_set_UseKerning (value) {
    $IM09().Call(this._fontImp, null, value);
  }; 

  JSIL.MakeType({
      BaseType: $asm0E.TypeRef("System.Object"), 
      Name: "Fusee.Base.Core.Font", 
      IsPublic: true, 
      IsReferenceType: true, 
      MaximumConstructorArguments: 0, 
    }, function ($ib) {
    $ = $ib;

    $.Method({Static:false, Public:true }, ".ctor", 
      JSIL.MethodSignature.Void, 
      Font__ctor
    );

    $.Method({Static:false, Public:true }, "get_PixelHeight", 
      JSIL.MethodSignature.Return($.UInt32), 
      Font_get_PixelHeight
    );

    $.Method({Static:false, Public:true }, "get_UseKerning", 
      JSIL.MethodSignature.Return($.Boolean), 
      Font_get_UseKerning
    );

    $.Method({Static:false, Public:true }, "GetGlyphCurve", 
      new JSIL.MethodSignature($asm09.TypeRef("Fusee.Math.Core.Curve"), [$.UInt32]), 
      Font_GetGlyphCurve
    );

    $.Method({Static:false, Public:true }, "GetGlyphInfo", 
      new JSIL.MethodSignature($asm00.TypeRef("Fusee.Base.Common.GlyphInfo"), [$.UInt32]), 
      Font_GetGlyphInfo
    );

    $.Method({Static:false, Public:true }, "GetKerning", 
      new JSIL.MethodSignature($.Single, [$.UInt32, $.UInt32]), 
      Font_GetKerning
    );

    $.Method({Static:false, Public:true }, "GetUnscaledAdvance", 
      new JSIL.MethodSignature($.Single, [$.UInt32]), 
      Font_GetUnscaledAdvance
    );

    $.Method({Static:false, Public:true }, "GetUnscaledKerning", 
      new JSIL.MethodSignature($.Single, [$.UInt32, $.UInt32]), 
      Font_GetUnscaledKerning
    );

    $.Method({Static:false, Public:true }, "RenderGlyph", 
      new JSIL.MethodSignature($asm00.TypeRef("Fusee.Base.Common.ImageData"), [
          $.UInt32, $jsilcore.TypeRef("JSIL.Reference", [$.Int32]), 
          $jsilcore.TypeRef("JSIL.Reference", [$.Int32])
        ]), 
      Font_RenderGlyph
    );

    $.Method({Static:false, Public:true }, "set_PixelHeight", 
      JSIL.MethodSignature.Action($.UInt32), 
      Font_set_PixelHeight
    );

    $.Method({Static:false, Public:true }, "set_UseKerning", 
      JSIL.MethodSignature.Action($.Boolean), 
      Font_set_UseKerning
    );

    $.Field({Static:false, Public:true }, "_fontImp", $asm00.TypeRef("Fusee.Base.Common.IFontImp"));

    $.Field({Static:false, Public:false, ReadOnly:true }, "_glyphInfoCache", $asm0E.TypeRef("System.Collections.Generic.Dictionary`2", [$.UInt32, $asm00.TypeRef("Fusee.Base.Common.GlyphInfo")]));

    $.Field({Static:false, Public:false, ReadOnly:true }, "_glyphCurveChache", $asm0E.TypeRef("System.Collections.Generic.Dictionary`2", [$.UInt32, $asm09.TypeRef("Fusee.Math.Core.Curve")]));

    $.Field({Static:false, Public:false, ReadOnly:true }, "_glyphAdvanceCache", $asm0E.TypeRef("System.Collections.Generic.Dictionary`2", [$.UInt32, $.Single]));

    $.Property({Static:false, Public:true }, "UseKerning", $.Boolean);

    $.Property({Static:false, Public:true }, "PixelHeight", $.UInt32);


    return function (newThisType) { $thisType = newThisType; }; 
  });

})();

/* class Fusee.Base.Core.IO */ 

(function IO$Members () {
  var $, $thisType;
  var $T00 = function () {
    return ($T00 = JSIL.Memoize($asm00.Fusee.Base.Common.IIOImp)) ();
  };
  var $T01 = function () {
    return ($T01 = JSIL.Memoize($asm0E.System.String)) ();
  };
  var $T02 = function () {
    return ($T02 = JSIL.Memoize($asm00.Fusee.Base.Common.FileMode)) ();
  };
  var $IM00 = function () {
    return ($IM00 = JSIL.Memoize($asm00.Fusee.Base.Common.IIOImp.StreamFromFile)) ();
  };


  function IO_get_IOImp () {
    return $thisType.IO$IOImp$value;
  }; 

  function IO_set_IOImp (value) {
    $thisType.IO$IOImp$value = value;
  }; 

  function IO_StreamFromFile (path, mode) {
    return $IM00().Call($thisType.IO$IOImp$value, null, path, mode);
  }; 

  JSIL.MakeStaticClass("Fusee.Base.Core.IO", true, [], function ($ib) {
    $ = $ib;

    $.Method({Static:true , Public:true }, "get_IOImp", 
      JSIL.MethodSignature.Return($asm00.TypeRef("Fusee.Base.Common.IIOImp")), 
      IO_get_IOImp
    );

    $.Method({Static:true , Public:true }, "set_IOImp", 
      JSIL.MethodSignature.Action($asm00.TypeRef("Fusee.Base.Common.IIOImp")), 
      IO_set_IOImp
    );

    $.Method({Static:true , Public:true }, "StreamFromFile", 
      new JSIL.MethodSignature($asm0E.TypeRef("System.IO.Stream"), [$.String, $asm00.TypeRef("Fusee.Base.Common.FileMode")]), 
      IO_StreamFromFile
    );

    $.Field({Static:true , Public:false}, "IO$IOImp$value", $asm00.TypeRef("Fusee.Base.Common.IIOImp"));

    $.Property({Static:true , Public:true }, "IOImp", $asm00.TypeRef("Fusee.Base.Common.IIOImp"))
      .Attribute($asm00.TypeRef("Fusee.Base.Common.InjectMeAttribute"));


    return function (newThisType) { $thisType = newThisType; }; 
  });

})();

/* class Fusee.Base.Core.NamespaceDoc */ 

(function NamespaceDoc$Members () {
  var $, $thisType;

  JSIL.MakeStaticClass("Fusee.Base.Core.NamespaceDoc", false, [], function ($ib) {
    $ = $ib;


    return function (newThisType) { $thisType = newThisType; }; 
  });

})();

